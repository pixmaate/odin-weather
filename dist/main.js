(()=>{const t="4d938dec5b23489c878182327232911";class e{constructor(t){this.city=t}getWeather(e){fetch(`https://api.weatherapi.com/v1/current.json?key=${t}&q=${this.city}&aqi=no`,{mode:"cors"}).then((t=>t.json())).then((t=>{"C"===e?(new n(t.current.temp_c,t.current.feelslike_c,t.current.condition.text,t.current.condition.icon,t.current.wind_kph,t.location.name,"C"),this.getNextDay("C")):"F"===e&&(new n(t.current.temp_f,t.current.feelslike_f,t.current.condition.text,t.current.condition.icon,t.current.wind_mph,t.location.name,"F"),this.getNextDay("F"))})).catch((t=>{console.log(t)}))}getNextDay(e){fetch(`https://api.weatherapi.com/v1/forecast.json?key=${t}&q=${this.city}&days=2&aqi=no`,{mode:"cors"}).then((t=>t.json())).then((t=>{"C"===e?new i(t.forecast.forecastday[1].day.maxtemp_c,t.forecast.forecastday[1].day.condition.text,t.forecast.forecastday[1].day.condition.icon,t.forecast.forecastday[1].day.maxwind_kph,"C"):"F"===e&&new i(t.forecast.forecastday[1].day.maxtemp_f,t.forecast.forecastday[1].day.condition.text,t.forecast.forecastday[1].day.condition.icon,t.forecast.forecastday[1].day.maxwind_mph,"F")})).catch((t=>{console.log(t)}))}}class n{constructor(t,e,n,i,o,s,c){this.tempC=t,this.feelsC=e,this.conditionText=n,this.iconSrc=i,this.windKPH=o,this.city=s,this.CorF=c,this.buildDom()}buildDom(){this.buildTitle(),this.buildTemperature(),this.buildCondition(),this.buildWind()}buildTitle(){document.querySelector("#title").textContent=this.city}buildTemperature(){const t=document.querySelector("#temperature");t.innerHTML="";const e=document.createElement("p"),n=document.createElement("p");"C"===this.CorF?(e.textContent=`${this.tempC} C`,n.textContent=`Feels Like: ${this.feelsC} C`):"F"===this.CorF&&(e.textContent=`${this.tempC} F`,n.textContent=`Feels Like: ${this.feelsC} F`),e.style.cssText="font-size:1.3rem;font-weight:600;",t.textContent="Now",t.style.cssText="font-size:1.1rem;",t.appendChild(e),t.appendChild(n)}buildCondition(){const t=document.querySelector("#conditions");t.innerHTML="";const e=document.createElement("p"),n=document.createElement("img");n.src=`https:${this.iconSrc}`,e.textContent=this.conditionText,e.style.cssText="font-size:1.3rem;font-weight:600;",t.appendChild(e),t.appendChild(n)}buildWind(){const t=document.querySelector("#wind");t.innerHTML="","C"===this.CorF?t.textContent=`Wind: ${this.windKPH} KM/H`:"F"===this.CorF&&(t.textContent=`Wind: ${this.windKPH} MP/H`)}}class i{constructor(t,e,n,i,o){this.temp=t,this.conditionText=e,this.iconSrc=n,this.wind=i,this.CorF=o,this.buildDom()}buildDom(){this.buildTemperature(),this.buildCondition(),this.buildWind()}buildTemperature(){const t=document.querySelector("#temperatureTomo");t.innerHTML="";const e=document.createElement("p");"C"===this.CorF?e.textContent=`${this.temp} C`:"F"===this.CorF&&(e.textContent=`${this.temp} F`),e.style.cssText="font-size:1.3rem;font-weight:600;",t.textContent="Tomorrow",t.style.cssText="font-size:1.1rem;",t.appendChild(e)}buildCondition(){const t=document.querySelector("#conditionsTomo");t.innerHTML="";const e=document.createElement("p"),n=document.createElement("img");n.src=`https:${this.iconSrc}`,e.textContent=this.conditionText,e.style.cssText="font-size:1.3rem;font-weight:600;",t.appendChild(e),t.appendChild(n)}buildWind(){const t=document.querySelector("#windTomo");t.innerHTML="","C"===this.CorF?t.textContent=`Wind: ${this.wind} KM/H`:"F"===this.CorF&&(t.textContent=`Wind: ${this.wind} MP/H`)}}function o(t,n){new e(t).getWeather(n)}new class{constructor(t){this.city=t,this.inputField=document.querySelector("#selected_city"),this.cfvalue="C",this.button=document.querySelector("#searchButton"),this.button.addEventListener("click",(t=>{t.preventDefault(),o(this.inputField.value,this.cfvalue)})),this.selectorButton=document.querySelector("#c_or_f"),this.selectorListener()}selectorListener(){this.selectorButton.addEventListener("click",(t=>{t.preventDefault(),"F"===this.selectorButton.textContent?(this.cfvalue="F",this.selectorButton.textContent="C",o(this.inputField.value,this.cfvalue)):"C"===this.selectorButton.textContent&&(this.cfvalue="C",this.selectorButton.textContent="F",o(this.inputField.value,this.cfvalue))}))}}("Athens"),o("Athens","C")})();